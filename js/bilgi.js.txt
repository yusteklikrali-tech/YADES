function ara() {
  const input = document.getElementById("konu");
  const soru = input.value.trim().toLowerCase();
  const sonuc = document.getElementById("sonuc");
  const baslik = document.getElementById("baslik");
  const aciklama = document.getElementById("aciklama");

  if (soru === "") {
    alert("LÃ¼tfen bir konu yazÄ±n.");
    return;
  }

  let baslikMetni = "Bilgi";
  let aciklamaMetni = "";

  // 1. "nedir" mi diyor?
  if (soru.includes("nedir") || soru.includes("ne demek")) {
    baslikMetni = `"${soru.replace("nedir", "").trim()}" Nedir?`;

    if (soru.includes("karekÃ¶k")) {
      aciklamaMetni = "KarekÃ¶k, bir sayÄ±nÄ±n hangi sayÄ±nÄ±n karesi olduÄŸunu bulma iÅŸlemidir. Ã–rneÄŸin âˆš25 = 5 Ã§Ã¼nkÃ¼ 5Ã—5=25.";
    }
    else if (soru.includes("fotosentez")) {
      aciklamaMetni = "Fotosentez, bitkilerin gÃ¼neÅŸ Ä±ÅŸÄ±ÄŸÄ±nÄ± kullanarak karbondioksit ve sudan besin Ã¼retmesidir. Bu sÃ¼reÃ§te oksijen aÃ§Ä±ÄŸa Ã§Ä±kar.";
    }
    else if (soru.includes("osmanlÄ±")) {
      aciklamaMetni = "OsmanlÄ± Devleti, 1299 yÄ±lÄ±nda Osman Bey tarafÄ±ndan kurulan bir imparatorluktur. 600 yÄ±l boyunca varlÄ±ÄŸÄ±nÄ± sÃ¼rdÃ¼rmÃ¼ÅŸtÃ¼r.";
    }
    else {
      aciklamaMetni = "Bu konuyla ilgili temel bilgi ÅŸu ÅŸekildedir: ... (MEB mÃ¼fredatÄ±na uygun kÄ±sa tanÄ±m)";
    }
  }

  // 2. "nasÄ±l yapÄ±lÄ±r?" mi diyor?
  else if (soru.includes("nasÄ±l") || soru.includes("yapÄ±lÄ±r")) {
    baslikMetni = `"${soru}" NasÄ±l YapÄ±lÄ±r?`;

    if (soru.includes("karekÃ¶k")) {
      aciklamaMetni = `
        <p><strong>KarekÃ¶k hesaplama adÄ±mlarÄ±:</strong></p>
        <ol>
          <li>Tam kare sayÄ±larÄ± hatÄ±rla: 1, 4, 9, 16, 25, 36, 49, 64, 81, 100</li>
          <li>Ã–rneÄŸin âˆš36 â†’ hangi sayÄ± 6Ã—6=36 eder?</li>
          <li>Cevap: 6</li>
        </ol>
        <p>ğŸ’¡ 8. sÄ±nÄ±f matematik mÃ¼fredatÄ±na uygundur.</p>
      `;
    }
    else if (soru.includes("fotosentez")) {
      aciklamaMetni = `
        <p><strong>Fotosentez nasÄ±l olur?</strong></p>
        <ol>
          <li>Bitki yapraklarÄ± COâ‚‚ alÄ±r.</li>
          <li>KÃ¶klerle su alÄ±nÄ±r.</li>
          <li>GÃ¼neÅŸ Ä±ÅŸÄ±ÄŸÄ± yapraklara gelir.</li>
          <li>Kimyasal reaksiyonla besin (glikoz) oluÅŸur.</li>
        </ol>
      `;
    }
    else {
      aciklamaMetni = "Bu iÅŸlem ÅŸu adÄ±mlarla yapÄ±lÄ±r: 1) ..., 2) ..., 3) ... (MEB tarzÄ± adÄ±m adÄ±m anlatÄ±m)";
    }
  }

  // 3. SayÄ± varsa â†’ aritmetik zeka Ã§alÄ±ÅŸtÄ±r
  else if (/\d/.test(soru)) {
    baslikMetni = "Aritmetik Ã‡Ã¶zÃ¼m";
    
    if (soru.includes("kaÃ§ kiÅŸi") || soru.includes("toplam")) {
      aciklamaMetni = `
        <p><strong>AdÄ±m adÄ±m Ã§Ã¶zÃ¼m:</strong></p>
        <p>1. BaÅŸlangÄ±Ã§taki kiÅŸi sayÄ±sÄ±: ...</p>
        <p>2. Ä°nenler Ã§Ä±karÄ±lÄ±r, gelenler eklenir.</p>
        <p>3. SonuÃ§ hesaplanÄ±r.</p>
        <p>ğŸ’¡ Bu soru tipi, sayÄ±sal mantÄ±k gerektirir.</p>
      `;
    }
    else {
      aciklamaMetni = "Bu soru bir iÅŸlem iÃ§eriyor. Ã–nce verilen sayÄ±larÄ± belirle, sonra iÅŸlem sÄ±rasÄ±nÄ± uygula.";
    }
  }

  // HiÃ§biri deÄŸilse â†’ genel bilgi
  else {
    baslikMetni = "Bilgi";
    aciklamaMetni = `
      <p><strong>YADES notu:</strong> Bu soruyu anladÄ±m ama detaylÄ± cevap veremiyorum.</p>
      <p>Ama ÅŸunu dene:</p>
      <ul>
        <li>"karekÃ¶k nedir?"</li>
        <li>"fotosentez nasÄ±l yapÄ±lÄ±r?"</li>
        <li>"otobÃ¼ste 10 kiÅŸi vardÄ±, 3 kiÅŸi indi, 2 kiÅŸi bindi. KaÃ§ kiÅŸi kaldÄ±?"</li>
      </ul>
    `;
  }

  // Ekrana yaz
  baslik.textContent = baslikMetni;
  aciklama.innerHTML = aciklamaMetni;
  sonuc.style.display = "block";
  sonuc.scrollIntoView({ behavior: "smooth" });
}

function geri() {
  window.location.href = "index.html";
}